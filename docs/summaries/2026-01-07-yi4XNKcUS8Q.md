# Ralph Mode for Deep Agents: Running an Agent Forever

**Channel:** LangChain
**Published:** 2026-01-07
**Video:** [Watch on YouTube](https://youtube.com/watch?v=yi4XNKcUS8Q)

---

# 介紹 Ralph 迴圈：一個讓 AI Agent 執行長期複雜任務的簡單技巧

## 重點摘要
「Ralph 迴圈」是一個簡單而強大的 Agentic 編碼模式，它透過在一個迴圈中反覆給予 AI Agent 相同的任務指令，並讓 Agent 使用檔案系統作為其工作日誌和記憶體。這種方法能讓 Agent 持續迭代、建立並完成需要長時間執行的複雜專案。

## 故事大綱
- **開場**：影片由 Langchain 的 Viv 開場，介紹一個名為「Ralph 迴圈」的 Agentic 編碼概念，其靈感來自《辛普森家庭》的角色 Ralph Wiggum。影片旨在探討一個簡單的 `while` 迴圈和檔案系統能為 AI Agent 帶來多大的潛力。
- **中段**：講者解釋 Ralph 迴圈的核心機制。在 Deep Agents 的「Ralph 模式」中，Agent 會被指派一個任務（例如：建立一個 Python 課程）。在每一次迴圈中，Agent 都會收到完全相同的指令，但它可以存取不斷更新的檔案系統。這個檔案系統就像是 Agent 的記憶和工作區，記錄著它之前的進度。影片展示了一個實際例子：Agent 首先建立一個待辦事項清單，然後開始撰寫課程文件、建立範例並初始化 Git 倉庫。
- **結尾**：講者總結 Ralph 迴圈的三大優點：1) 讓 Agent 能執行長期任務；2) 利用檔案系統作為強大的外部記憶體；3) 透過在每次迴圈重置上下文來解決「上下文腐爛 (context rot)」的問題。影片最後鼓勵觀眾親自嘗試使用 Ralph 迴圈。

## 關鍵見解
1.  **實現長期任務**：Ralph 迴圈透過強制迭代，讓 Agent 能逐步完成過去單次執行難以應付的複雜、大型專案。
2.  **檔案系統即記憶**：Agent 非常擅長利用檔案系統。將檔案系統作為持久化的記憶體和工作空間，並結合 Git 進行版本控制，使其能有效地追蹤和建立在先前的工作基礎上。
3.  **解決上下文管理難題**：在長時間運行的 Agent 任務中，「上下文腐爛」（Context Rot，指過多上下文導致性能下降）是一大挑戰。Ralph 迴圈透過在每次迭代中「重啟」，讓 Agent 從一個相對乾淨的上下文視窗開始，只關注當前檔案狀態，從而巧妙地規避了此問題。
4.  **簡單就是力量**：其核心機制極其簡單——在每一次迴圈中傳遞完全相同的提示，讓 Agent 根據檔案系統的現狀決定下一步行動。
5.  **從待辦事項開始**：影片中的 Agent 在開始執行任務時，會先建立一個待辦事項清單（To-do list），這是一個好的實踐，有助於將複雜任務分解並有序地執行。

## 精彩時刻
- 這個強大的 Agentic 概念，其命名靈感竟來自《辛普森家庭》裡那個有點傻氣的角色 Ralph Wiggum。
- 開場白金句：「這是一個關於毅力的故事，也是一個關於你的 Agent 僅用一個簡單的 while 迴圈和一個檔案系統就能完成什麼的故事。」
- 提到「上下文腐爛 (Context Rot)」這個專業術語，並說明 Ralph 迴圈是解決此問題的有效方法。
- 實際的 CLI 指令展示：`deep agent --ralph`，讓概念變得具體。

---

# Introducing the Ralph Loop: A Simple Technique for Complex, Long-Running AI Agent Tasks

## TL;DR
The "Ralph loop" is a simple yet powerful agentic coding pattern where an AI agent is repeatedly given the same task prompt in a loop. The agent uses the file system as its work log and memory, enabling it to iteratively build upon its progress to complete complex, long-running assignments.

## Story Flow
- **Beginning**: The video, presented by Viv from Langchain, introduces an agentic coding concept called the "Ralph loop," inspired by the character Ralph Wiggum from The Simpsons. It sets out to explore what an AI agent can achieve with just a simple `while` loop and a file system.
- **Middle**: The presenter explains the core mechanics of the Ralph loop. In the "Ralph mode" of Deep Agents, an agent is given a task (e.g., build a Python course). In each iteration, the agent receives the exact same prompt but has access to the evolving file system, which acts as its memory and workspace. The video shows a practical example where the agent first creates a to-do list, then begins writing course files, creating demos, and initializing a Git repository.
- **End**: The presenter concludes by summarizing the three main benefits of the Ralph loop: 1) enabling long-running tasks, 2) using the file system as a robust external memory, and 3) solving "context rot" by resetting the context with each loop. The video ends by encouraging viewers to experiment with the Ralph loop themselves.

## Key Insights
1.  **Enabling Long-Running Tasks**: The Ralph loop, through forced iteration, allows an agent to incrementally complete complex, large-scale projects that would be difficult to handle in a single run.
2.  **The File System as Memory**: Agents are very good at using file systems. Using the file system as a persistent memory and workspace, combined with Git for version control, allows the agent to effectively track and build upon its previous work.
3.  **Solving Context Management**: "Context rot" (performance degradation from too much context) is a major challenge in long-running agent tasks. The Ralph loop cleverly bypasses this by "restarting" in each iteration, allowing the agent to begin with a relatively clean context window, focusing only on the current state of the files.
4.  **Simplicity is Power**: The core mechanism is incredibly simple: passing the exact same prompt in every loop and letting the agent decide the next steps based on the current state of the file system.
5.  **Starting with a To-do List**: The agent in the demo begins its task by creating a to-do list, which is a good practice for breaking down a complex task and executing it in an organized manner.

## Notable Moments
- The powerful agentic concept is humorously named after the goofy character Ralph Wiggum from The Simpsons.
- The opening quote: "It's a story of perseverance, but it's also a story of what your agent can really do with a simple while loop and a file system."
- The mention of "Context Rot" as a technical term and how the Ralph loop serves as an effective solution.
- The demonstration of a concrete CLI command, `deep agent --ralph`, makes the concept tangible.
